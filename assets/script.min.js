function r(l,f){if(window.location.pathname==l){f()}}
function e(i){return document.getElementById(i)}
function d(u,d,c){var newXHR=new XMLHttpRequest();newXHR.addEventListener('load',c);newXHR.open('POST',u);newXHR.setRequestHeader('Content-Type','application/x-www-form-urlencoded');newXHR.send(d);}
function a(t,m){var h=document.getElementsByTagName('header')[0]
h.innerHTML='<flash '+t+'>'+m+'</flash>'}
r('/',function(){var el_submit=e('b-submit'),el_link=e('i-link')
el_submit.onclick=function(e){e.preventDefault()
d('/a/links','link='+encodeURI(el_link.value),function(){var response=JSON.parse(this.responseText)
if(response['error']){a('error',response['message'])
return}
var s=response['data']
a('info','<a href="/l/'+s+'">https://'+window.location.hostname+'/l/'+s+'</a>')
el_link.value=''})}})
r('/u/board',function(){var el_submit=e('b-submit'),el_link=e('i-link'),el_slug=e('i-slug'),el_links=e('list-links')
el_submit.onclick=function(e){e.preventDefault()
d('/u/a/links?token='+t,'link='+encodeURI(el_link.value)+'&slug='+encodeURI(el_slug.value),function(){var response=JSON.parse(this.responseText)
if(response['error']){a('error',response['message'])
return}
var s=response['data']
a('info','<a href="/l/'+s+'">https://'+window.location.hostname+'/l/'+s+'</a>')
el_link.value=''
el_slug.value=''})}})